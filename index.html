<!DOCTYPE html>
<html>
<head>
	<title>AGIS Map Editor</title>
	<meta charset="utf-8" />

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    
	<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />
    <link rel="stylesheet" href="http://leaflet.github.io/Leaflet.draw/leaflet.draw.css" />
    <link rel="stylesheet" href="css/easy-button.css" />
    <link rel="stylesheet" href="css/site.css" />
<!--    <link rel="stylesheet" href="css/w3.css" />-->
    <link rel="stylesheet" href="/css/leaflet.css" />
    <link rel="stylesheet" href="/css/leaflet.label.css" />
    <link rel="stylesheet" href="/css/jquery-ui.min.css">
    
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.0/jquery.min.js'></script>
    <script src="/js/leaflet-src.js"></script> <!-- use leaflet.js in production -->
    <script src="/js/leaflet.label.js"></script> <!-- use leaflet.js in production -->
    <script src="http://leaflet.github.io/Leaflet.draw/leaflet.draw.js"></script> <!-- self-host this -->
    <script src='https://cdn.firebase.com/js/client/2.2.1/firebase.js'></script>
    <script src='//api.tiles.mapbox.com/mapbox.js/plugins/leaflet-image/v0.0.4/leaflet-image.js'></script>
    <script src="/js/easy-button.js"></script>
    <script src="/js/leaflet-print.js"></script>
    <script src="/js/locations.js"></script>
    <script src="/js/jquery-ui.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/live/3.0/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyB95jRLaAAIC2_9wACuK_R6kTN04xj2vyo",
        authDomain: "agis-map-editor.firebaseapp.com",
        databaseURL: "https://agis-map-editor.firebaseio.com",
        storageBucket: "agis-map-editor.appspot.com",
      };
      firebase.initializeApp(config);
    </script>
</head>
<body>
    
<div class="box">
  <div class="row header">
    <p><b>AGIS Map Editor</b>
  </div>
  <div class="row content">
    <div id="map" style="height:100%"></div>
  </div>
  <div id="panel"><div>
        <div>
            <div id="userLoginContainer">
                <label for="email">Email</label>
                <input type="text" id="email"><br>
                <label for="password">Password</label>
                <input type="password" id="password">
            <br>
            <button onclick="userLogin()">Login</button>
                <a href="/register.html">Sign up</a>
            </div>
            <div id="logindeetz" style="display: none;">
                <h4>You are logged in as <b><span id="fbName"></span></b></h4>
                <button id="logoutButton" onclick="logout()">Logout</button>
                <div id="locationContreainer">
                    <select id="location" onchange="locationSwitch(this)">
                        <option value="" disabled selected>Select Location</option>
                    </select>
                </div>
            </div>
        </div>
        <br />
      <div id='featuregrid' class="accordion"></div>
        <br />
        <h4>Click buttons below to add features to the map</h4>
        <div class="controlbuttons">
        <table class="buttontable" style="width:100px">
            <tbody>
                <tr>
                    <td>
                        <div class="trough" onclick="addMarker(MarkerEnum.TROUGH)"></div>
                    </td>
                    <td>
                        <div class="gate" onclick="addMarker(MarkerEnum.GATE)"></div>
                    </td>
                    <td>
                        <div class="info" onclick="addMarker(MarkerEnum.INFO)"></div>
                    </td>
                    <td>
                        <div class="fire" onclick="addMarker(MarkerEnum.FIRE)"></div>
                    </td>
                    <td>
                        <div class="fuel" onclick="addMarker(MarkerEnum.FUEL)"></div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="spill" onclick="addMarker(MarkerEnum.SPILL)"></div>
                    </td>
                    <td>
                        <div class="health" onclick="addMarker(MarkerEnum.HEALTH)"></div>
                    </td>
                    <td>
                        <div class="safety" onclick="addMarker(MarkerEnum.SAFETY)"></div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table style="width:200px;">
        <tbody>
                <tr>
                    <td>
                    <button onclick="addPolygon(PolygonEnum.PADDOCK)" style="background:green;color:white;height:40px;">Paddock</button>
                    </td>
                    <td>
                    <button onclick="addPolygon(PolygonEnum.NOGOZONE)" style="background:red;color:white;height:40px;">No-Go Zone</button>
                    </td>
                </tr>
            </tbody>
        </table>
        <table style="width:160px">
            <tr>
                <td>
                <button onclick="addPolyline(LineEnum.WATERWAY)" style="background:lightblue;height:40px;">Water Line</button>
                </td>
                <td>
                <button onclick="addPolyline(LineEnum.QUADTRACK)" style="background:green;color:white;height:40px;">Quad Track</button>
                </td>
                <td>
                <button onclick="addPolyline(LineEnum.POWERLINE)" style="background:red;color:white;height:40px;">Power Line</button>
                </td>
            </tr>
        </table>
            </div>
        <br>
        <br>
        <textarea id="JSONBox" style="width: 5px; height 5px" rows="1" cols="1" ></textarea>
    </div>
  </div>
</div>
    
    <script>
  window.fbAsyncInit = function() {
    FB.init({
      appId      : '619432824875705',
      xfbml      : true,
      version    : 'v2.6'
    });
  };

  (function(d, s, id){
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement(s); js.id = id;
     js.src = "//connect.facebook.net/en_US/sdk.js";
     fjs.parentNode.insertBefore(js, fjs);
   }(document, 'script', 'facebook-jssdk'));
</script>
    
    <script>
        var rootRef = firebase.database();
    </script>
    
    <div id="images"></div>
    
    <script src="/js/custom-map.js"></script>
    <script src="/js/custom-markers.js"></script>
</body>
    
</html>
